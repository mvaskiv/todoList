import React, { Component } from 'react';
import { WeekDay, Month } from "./dates-weather";

const ListItem = (props) => (
    <div className='list-list-item' onClick={props.view}>
        <svg
        className='icon-list'
        xmlns="http://www.w3.org/2000/svg"
        xmlnsXlink="http://www.w3.org/1999/xlink"
        version="1.1"
        x="0px"
        y="0px"
        fill='#c41313'
        viewBox="0 0 90 105"
        xmlSpace="preserve"><g>
        <path d="M28.7071068,37.292925 L30.2875464,38.8733646 L33.9522147,34.368939 C34.3007576,33.9405277 34.9306034,33.8757815 35.3590148,34.2243244 C35.7874262,34.5728673 35.8521723,35.2027131 35.5036295,35.6311245 L31.1396684,40.9950855 C30.7656029,41.454868 30.0759754,41.4902207 29.6568542,41.0710996 L27.2928932,38.7071385 C26.9023689,38.3166142 26.9023689,37.6834493 27.2928932,37.292925 C27.6834175,36.9024007 28.3165825,36.9024007 28.7071068,37.292925 Z M28.7071068,49.292925 L30.2875464,50.8733646 L33.9522147,46.368939 C34.3007576,45.9405277 34.9306034,45.8757815 35.3590148,46.2243244 C35.7874262,46.5728673 35.8521723,47.2027131 35.5036295,47.6311245 L31.1396684,52.9950855 C30.7656029,53.454868 30.0759754,53.4902207 29.6568542,53.0710996 L27.2928932,50.7071385 C26.9023689,50.3166142 26.9023689,49.6834493 27.2928932,49.292925 C27.6834175,48.9024007 28.3165825,48.9024007 28.7071068,49.292925 Z M28.7071068,61.292925 L30.2875464,62.8733646 L33.9522147,58.368939 C34.3007576,57.9405277 34.9306034,57.8757815 35.3590148,58.2243244 C35.7874262,58.5728673 35.8521723,59.2027131 35.5036295,59.6311245 L31.1396684,64.9950855 C30.7656029,65.454868 30.0759754,65.4902207 29.6568542,65.0710996 L27.2928932,62.7071385 C26.9023689,62.3166142 26.9023689,61.6834493 27.2928932,61.292925 C27.6834175,60.9024007 28.3165825,60.9024007 28.7071068,61.292925 Z M41.863961,51.5000318 C41.3116763,51.5000318 40.863961,51.0523165 40.863961,50.5000318 C40.863961,49.947747 41.3116763,49.5000318 41.863961,49.5000318 L71.863961,49.5000318 C72.4162458,49.5000318 72.863961,49.947747 72.863961,50.5000318 C72.863961,51.0523165 72.4162458,51.5000318 71.863961,51.5000318 L41.863961,51.5000318 Z M41.863961,63.5000318 C41.3116763,63.5000318 40.863961,63.0523165 40.863961,62.5000318 C40.863961,61.947747 41.3116763,61.5000318 41.863961,61.5000318 L71.863961,61.5000318 C72.4162458,61.5000318 72.863961,61.947747 72.863961,62.5000318 C72.863961,63.0523165 72.4162458,63.5000318 71.863961,63.5000318 L41.863961,63.5000318 Z M41.863961,39.5000318 C41.3116763,39.5000318 40.863961,39.0523165 40.863961,38.5000318 C40.863961,37.947747 41.3116763,37.5000318 41.863961,37.5000318 L71.863961,37.5000318 C72.4162458,37.5000318 72.863961,37.947747 72.863961,38.5000318 C72.863961,39.0523165 72.4162458,39.5000318 71.863961,39.5000318 L41.863961,39.5000318 Z"/>
        </g></svg>
        <p className='list-item-count'>{props.details.id} items</p>
        <p className='list-item-name'>{props.details.name}</p>
    </div>
)


export class Today extends Component {
    constructor(props) {
        super(props);
        this.state = {
            expanded: false
        }
    }

    render() {
        let today = new Date();
        let Lists = ListNames.map((list, i) => {
            return <ListItem details={ list } key={ i } view={ () => { this.props.tasksList(list.keyword);this.setState({expanded: false}) }} />
        })
        let day = WeekDay[today.getDay()];
        let date = Month[today.getMonth()].name + ' ' + today.getDate();
        return (
            <div className='today' style={{height: this.state.expanded ? '230px' : 102+'px'}}>
                <div style={{position: 'relative', height: 102+'px', boxShadow: '0 0 7px #bbb'}}>
                    <h1 className='today'>{day}</h1>
                    <h3 className='today-date'>{date}</h3>
                    <p onClick={() => this.setState({expanded: !this.state.expanded})} className='expand-today'>
                        <svg
                        className='expand-list-icon'
                        xmlns="http://www.w3.org/2000/svg"
                        xmlnsXlink="http://www.w3.org/1999/xlink"
                        version="1.1"
                        x="0px"
                        y="0px"
                        viewBox="0 0 90 105"
                        xmlSpace="preserve"><g>
                        <path d="M28.7071068,37.292925 L30.2875464,38.8733646 L33.9522147,34.368939 C34.3007576,33.9405277 34.9306034,33.8757815 35.3590148,34.2243244 C35.7874262,34.5728673 35.8521723,35.2027131 35.5036295,35.6311245 L31.1396684,40.9950855 C30.7656029,41.454868 30.0759754,41.4902207 29.6568542,41.0710996 L27.2928932,38.7071385 C26.9023689,38.3166142 26.9023689,37.6834493 27.2928932,37.292925 C27.6834175,36.9024007 28.3165825,36.9024007 28.7071068,37.292925 Z M28.7071068,49.292925 L30.2875464,50.8733646 L33.9522147,46.368939 C34.3007576,45.9405277 34.9306034,45.8757815 35.3590148,46.2243244 C35.7874262,46.5728673 35.8521723,47.2027131 35.5036295,47.6311245 L31.1396684,52.9950855 C30.7656029,53.454868 30.0759754,53.4902207 29.6568542,53.0710996 L27.2928932,50.7071385 C26.9023689,50.3166142 26.9023689,49.6834493 27.2928932,49.292925 C27.6834175,48.9024007 28.3165825,48.9024007 28.7071068,49.292925 Z M28.7071068,61.292925 L30.2875464,62.8733646 L33.9522147,58.368939 C34.3007576,57.9405277 34.9306034,57.8757815 35.3590148,58.2243244 C35.7874262,58.5728673 35.8521723,59.2027131 35.5036295,59.6311245 L31.1396684,64.9950855 C30.7656029,65.454868 30.0759754,65.4902207 29.6568542,65.0710996 L27.2928932,62.7071385 C26.9023689,62.3166142 26.9023689,61.6834493 27.2928932,61.292925 C27.6834175,60.9024007 28.3165825,60.9024007 28.7071068,61.292925 Z M41.863961,51.5000318 C41.3116763,51.5000318 40.863961,51.0523165 40.863961,50.5000318 C40.863961,49.947747 41.3116763,49.5000318 41.863961,49.5000318 L71.863961,49.5000318 C72.4162458,49.5000318 72.863961,49.947747 72.863961,50.5000318 C72.863961,51.0523165 72.4162458,51.5000318 71.863961,51.5000318 L41.863961,51.5000318 Z M41.863961,63.5000318 C41.3116763,63.5000318 40.863961,63.0523165 40.863961,62.5000318 C40.863961,61.947747 41.3116763,61.5000318 41.863961,61.5000318 L71.863961,61.5000318 C72.4162458,61.5000318 72.863961,61.947747 72.863961,62.5000318 C72.863961,63.0523165 72.4162458,63.5000318 71.863961,63.5000318 L41.863961,63.5000318 Z M41.863961,39.5000318 C41.3116763,39.5000318 40.863961,39.0523165 40.863961,38.5000318 C40.863961,37.947747 41.3116763,37.5000318 41.863961,37.5000318 L71.863961,37.5000318 C72.4162458,37.5000318 72.863961,37.947747 72.863961,38.5000318 C72.863961,39.0523165 72.4162458,39.5000318 71.863961,39.5000318 L41.863961,39.5000318 Z"/>
                        </g></svg>Lists</p>
                </div>
                <div style={{position: 'relative', height: 'auto', overflowY: 'scroll'}}>
                    <ListItem details={ {id: 222, name: 'All Tasks', keyword: ''} } view={ () => { this.props.tasksList('');this.setState({expanded: false}) }} />
                        { Lists }
                </div>
            </div> 
        )
    }
}

const ListNames = [
    {id: 0, name: 'To Do', keyword: '0'},
    {id: 1, name: 'Done', keyword: '1'},
];