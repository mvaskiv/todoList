(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(44)},33:function(e,t,a){},42:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(25),r=a.n(i),c=(a(33),a(7)),o=a(8),l=a(10),u=a(9),d=a(11),p={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},m=[{abbreviation:"Jan",name:"January"},{abbreviation:"Feb",name:"February"},{abbreviation:"Mar",name:"March"},{abbreviation:"Apr",name:"April"},{abbreviation:"May",name:"May"},{abbreviation:"Jun",name:"June"},{abbreviation:"Jul",name:"July"},{abbreviation:"Aug",name:"August"},{abbreviation:"Sep",name:"September"},{abbreviation:"Oct",name:"October"},{abbreviation:"Nov",name:"November"},{abbreviation:"Dec",name:"December"}],h=function(e){return s.a.createElement("div",{className:"list-list-item",onClick:e.view},s.a.createElement("svg",{className:"icon-list",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",fill:"#c41313",viewBox:"0 0 90 105",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("path",{d:"M28.7071068,37.292925 L30.2875464,38.8733646 L33.9522147,34.368939 C34.3007576,33.9405277 34.9306034,33.8757815 35.3590148,34.2243244 C35.7874262,34.5728673 35.8521723,35.2027131 35.5036295,35.6311245 L31.1396684,40.9950855 C30.7656029,41.454868 30.0759754,41.4902207 29.6568542,41.0710996 L27.2928932,38.7071385 C26.9023689,38.3166142 26.9023689,37.6834493 27.2928932,37.292925 C27.6834175,36.9024007 28.3165825,36.9024007 28.7071068,37.292925 Z M28.7071068,49.292925 L30.2875464,50.8733646 L33.9522147,46.368939 C34.3007576,45.9405277 34.9306034,45.8757815 35.3590148,46.2243244 C35.7874262,46.5728673 35.8521723,47.2027131 35.5036295,47.6311245 L31.1396684,52.9950855 C30.7656029,53.454868 30.0759754,53.4902207 29.6568542,53.0710996 L27.2928932,50.7071385 C26.9023689,50.3166142 26.9023689,49.6834493 27.2928932,49.292925 C27.6834175,48.9024007 28.3165825,48.9024007 28.7071068,49.292925 Z M28.7071068,61.292925 L30.2875464,62.8733646 L33.9522147,58.368939 C34.3007576,57.9405277 34.9306034,57.8757815 35.3590148,58.2243244 C35.7874262,58.5728673 35.8521723,59.2027131 35.5036295,59.6311245 L31.1396684,64.9950855 C30.7656029,65.454868 30.0759754,65.4902207 29.6568542,65.0710996 L27.2928932,62.7071385 C26.9023689,62.3166142 26.9023689,61.6834493 27.2928932,61.292925 C27.6834175,60.9024007 28.3165825,60.9024007 28.7071068,61.292925 Z M41.863961,51.5000318 C41.3116763,51.5000318 40.863961,51.0523165 40.863961,50.5000318 C40.863961,49.947747 41.3116763,49.5000318 41.863961,49.5000318 L71.863961,49.5000318 C72.4162458,49.5000318 72.863961,49.947747 72.863961,50.5000318 C72.863961,51.0523165 72.4162458,51.5000318 71.863961,51.5000318 L41.863961,51.5000318 Z M41.863961,63.5000318 C41.3116763,63.5000318 40.863961,63.0523165 40.863961,62.5000318 C40.863961,61.947747 41.3116763,61.5000318 41.863961,61.5000318 L71.863961,61.5000318 C72.4162458,61.5000318 72.863961,61.947747 72.863961,62.5000318 C72.863961,63.0523165 72.4162458,63.5000318 71.863961,63.5000318 L41.863961,63.5000318 Z M41.863961,39.5000318 C41.3116763,39.5000318 40.863961,39.0523165 40.863961,38.5000318 C40.863961,37.947747 41.3116763,37.5000318 41.863961,37.5000318 L71.863961,37.5000318 C72.4162458,37.5000318 72.863961,37.947747 72.863961,38.5000318 C72.863961,39.0523165 72.4162458,39.5000318 71.863961,39.5000318 L41.863961,39.5000318 Z"}))),s.a.createElement("p",{className:"list-item-count"},e.details.id," items"),s.a.createElement("p",{className:"list-item-name"},e.details.name))},x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={expanded:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=new Date,a=v.map(function(t,a){return s.a.createElement(h,{details:t,key:a,view:function(){e.props.tasksList(t.keyword),e.setState({expanded:!1})}})}),n=p[t.getDay()],i=m[t.getMonth()].name+" "+t.getDate();return s.a.createElement("div",{className:"today",style:{height:this.state.expanded?"230px":"102px"}},s.a.createElement("div",{style:{position:"relative",height:"102px",boxShadow:"0 0 7px #bbb"}},s.a.createElement("h1",{className:"today"},n),s.a.createElement("h3",{className:"today-date"},i),s.a.createElement("p",{onClick:function(){return e.setState({expanded:!e.state.expanded})},className:"expand-today"},s.a.createElement("svg",{className:"expand-list-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 90 105",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("path",{d:"M28.7071068,37.292925 L30.2875464,38.8733646 L33.9522147,34.368939 C34.3007576,33.9405277 34.9306034,33.8757815 35.3590148,34.2243244 C35.7874262,34.5728673 35.8521723,35.2027131 35.5036295,35.6311245 L31.1396684,40.9950855 C30.7656029,41.454868 30.0759754,41.4902207 29.6568542,41.0710996 L27.2928932,38.7071385 C26.9023689,38.3166142 26.9023689,37.6834493 27.2928932,37.292925 C27.6834175,36.9024007 28.3165825,36.9024007 28.7071068,37.292925 Z M28.7071068,49.292925 L30.2875464,50.8733646 L33.9522147,46.368939 C34.3007576,45.9405277 34.9306034,45.8757815 35.3590148,46.2243244 C35.7874262,46.5728673 35.8521723,47.2027131 35.5036295,47.6311245 L31.1396684,52.9950855 C30.7656029,53.454868 30.0759754,53.4902207 29.6568542,53.0710996 L27.2928932,50.7071385 C26.9023689,50.3166142 26.9023689,49.6834493 27.2928932,49.292925 C27.6834175,48.9024007 28.3165825,48.9024007 28.7071068,49.292925 Z M28.7071068,61.292925 L30.2875464,62.8733646 L33.9522147,58.368939 C34.3007576,57.9405277 34.9306034,57.8757815 35.3590148,58.2243244 C35.7874262,58.5728673 35.8521723,59.2027131 35.5036295,59.6311245 L31.1396684,64.9950855 C30.7656029,65.454868 30.0759754,65.4902207 29.6568542,65.0710996 L27.2928932,62.7071385 C26.9023689,62.3166142 26.9023689,61.6834493 27.2928932,61.292925 C27.6834175,60.9024007 28.3165825,60.9024007 28.7071068,61.292925 Z M41.863961,51.5000318 C41.3116763,51.5000318 40.863961,51.0523165 40.863961,50.5000318 C40.863961,49.947747 41.3116763,49.5000318 41.863961,49.5000318 L71.863961,49.5000318 C72.4162458,49.5000318 72.863961,49.947747 72.863961,50.5000318 C72.863961,51.0523165 72.4162458,51.5000318 71.863961,51.5000318 L41.863961,51.5000318 Z M41.863961,63.5000318 C41.3116763,63.5000318 40.863961,63.0523165 40.863961,62.5000318 C40.863961,61.947747 41.3116763,61.5000318 41.863961,61.5000318 L71.863961,61.5000318 C72.4162458,61.5000318 72.863961,61.947747 72.863961,62.5000318 C72.863961,63.0523165 72.4162458,63.5000318 71.863961,63.5000318 L41.863961,63.5000318 Z M41.863961,39.5000318 C41.3116763,39.5000318 40.863961,39.0523165 40.863961,38.5000318 C40.863961,37.947747 41.3116763,37.5000318 41.863961,37.5000318 L71.863961,37.5000318 C72.4162458,37.5000318 72.863961,37.947747 72.863961,38.5000318 C72.863961,39.0523165 72.4162458,39.5000318 71.863961,39.5000318 L41.863961,39.5000318 Z"}))),"Lists")),s.a.createElement("div",{style:{position:"relative",height:"auto",overflowY:"scroll"}},s.a.createElement(h,{details:{id:222,name:"All Tasks",keyword:""},view:function(){e.props.tasksList(""),e.setState({expanded:!1})}}),a))}}]),t}(n.Component),v=[{id:0,name:"To Do",keyword:"0"},{id:1,name:"Done",keyword:"1"}],f=a(26),w=a(1),k=a.n(w),b=a(6),g=a(13),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._submit=Object(b.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.state.text&&a.props._addTask(a.state.text).then(function(){a.setState({text:""})});case 1:case"end":return e.stop()}},e,this)})),a._input=function(e){a.setState({text:e.target.value})},a._keyIn=function(e){"Enter"===e.key&&a._submit()},a.state={text:""},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=s.a.createElement("p",{className:"tags-place"},"#beProductive");return s.a.createElement("div",{className:"task-input-cnt"},s.a.createElement("input",{type:"text",placeholder:"Type it in",name:"text",value:this.state.text,onChange:this._input,onSubmit:this._submit,onKeyPress:this._keyIn,className:"task-input-field"}),s.a.createElement("button",{onClick:this._submit,className:"task-submit"},s.a.createElement("p",null,"add")),s.a.createElement("div",{className:"tags-place",style:{height:"10px",display:"flex",width:"100%",flexDirection:"row"}},e))}}]),t}(n.Component),y=new g.a("mydb-desktop"),_=function(e){var t=e.details.text,a=e.details.hours<10?"0".concat(e.details.hours):e.details.hours,n=e.details.minutes<10?"0".concat(e.details.minutes):e.details.minutes,i=new RegExp(e.search,"i");return!e.search||e.search&&e.details.text.match(i)?s.a.createElement("div",{id:e.details._id,onContextMenu:function(){return e._view(e.view===e.details._id?"":e.details._id)},className:"task-list-item",style:{boxShadow:e.view===e.details._id?"0 0 15px #cacaca":"none"}},s.a.createElement("svg",{onClick:function(){return e.complete(e.details._id)},className:e.details.completed?"icon-done-marked":"icon-done",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",fill:"#c41313",viewBox:"0 0 100 125",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("polygon",{points:"85.4,30.2 81.1,26 39.4,67.7 18.9,47.2 14.6,51.4 39.4,76.2  "}))),s.a.createElement("p",{className:"task-item-origin"},a,":",n),s.a.createElement("p",{className:e.details.completed?"task-item-text compl":"task-item-text"},t)):null},E=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e)))._expand=function(e){e.target!==a.checkmark&&a.setState({expanded:!a.state.expanded})},a._input=function(e){a.setState({text:e.target.value})},a._update=Object(b.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:y.get(a.props.details._id).then(function(){var e=Object(b.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.state.text;case 2:t.text=e.sent,y.put(t),a.props._edit(0);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)})),a._done=function(){y.get(a.props.details._id).then(function(){var e=Object(b.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.completed;case 2:if(!e.sent){e.next=6;break}e.t0=0,e.next=7;break;case 6:e.t0=1;case 7:t.completed=e.t0,y.put(t);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())},a.state={text:a.props.details.text,expanded:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{onClick:this._expand,id:this.props.details._id,onContextMenu:function(){return e.props._view(e.props.view===e.props.details._id?"":e.props.details._id)},className:"task-list-item",style:{boxShadow:this.props.view===this.props.details._id|this.props.edit===this.props.details._id?"0 0 15px #cacaca":"none",height:this.state.expanded?"auto":"45px",whiteSpace:this.state.expanded?"normal":"nowrap"}},s.a.createElement("svg",{ref:function(t){return e.checkmark=t},onClick:this._done,className:this.props.details.completed?"icon-done-compl":"icon-done",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",fill:"#c41313",viewBox:"0 0 100 125",xmlSpace:"preserve"},s.a.createElement("g",null,s.a.createElement("polygon",{points:"85.4,30.2 81.1,26 39.4,67.7 18.9,47.2 14.6,51.4 39.4,76.2  "}))),s.a.createElement("p",{className:"task-item-origin"},this.props.details.origin),this.props.edit===this.props.details._id?s.a.createElement("input",{autoFocus:!0,type:"text",name:"text",onBlur:this._update,onChange:this._input,className:"task-item-text edit",value:this.state.text}):s.a.createElement("p",{className:this.props.details.completed?"task-item-text compl":"task-item-text"},this.state.text))}}]),t}(n.Component),L=new g.a("mydb-desktop"),O=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this)))._handleClick=function(t){t.target!==e.context&&e.setState({context:!1,view:""})},e._handleContextMenu=function(){var t=Object(b.a)(k.a.mark(function t(a){var n;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.preventDefault();case 2:console.log(a),"string"===typeof a.target.className&&a.target.className.match(/(task-list)|(task-item)/)&&(n=a.clientY+e.tasks.scrollTop-320,e.setState({context:{x:n,y:120}}));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e._getUpdate=Object(b.a)(k.a.mark(function t(){var a;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.state.tag;case 2:if(!t.sent){t.next=6;break}t.t0={type:"task",completed:{$eq:parseInt(e.state.tag)}},t.next=7;break;case 6:t.t0={type:"task",completed:{$gte:0}};case 7:a=t.t0,L.createIndex({index:{fields:["type"]}}),L.find({selector:a,sort:["_id"]}).then(function(t){e.setState({dataSource:e._sortTasks(t.docs.reverse(),(new Date).getDate())},function(){e.setState({loaded:!0},function(){return e.forceUpdate()})})});case 10:case"end":return t.stop()}},t,this)})),e._view=function(t){e.setState({view:t},function(){e.forceUpdate()})},e._viewList=function(){var t=Object(b.a)(k.a.mark(function t(a){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({tag:a},function(){e._getUpdate()});case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e._addTask=function(){var t=Object(b.a)(k.a.mark(function t(a){var n,s,i;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Date;case 2:n=t.sent,s=n.getHours(),i=n.getMinutes(),L.put({_id:n.getTime().toString(),type:"task",text:a,hours:s,minutes:i,date:n.getDate(),month:n.getMonth(),completed:0}).then(e._getUpdate);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),e._done=function(t){L.get(t).then(function(){var e=Object(b.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.completed;case 2:if(!e.sent){e.next=6;break}e.t0=0,e.next=7;break;case 6:e.t0=1;case 7:t.completed=e.t0,L.put(t);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()).then(e._getUpdate)},e._edit=function(t){0===t?e.setState({edit:""},e._getUpdate):e.setState({edit:e.state.view})},e._delete=function(){L.get(e.state.view).then(function(e){return L.remove(e)}).then(e._getUpdate)},e._onChange=function(t){e.setState(Object(f.a)({},t.target.name,t.target.value))},e.state={today:"",dataSource:[],view:"",context:!1,loaded:!1,tag:"",edit:"",search:""},e._getUpdate(),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("contextmenu",this._handleContextMenu),document.addEventListener("click",this._handleClick)}},{key:"_sortTasks",value:function(e,t){var a=[],n=[];return e.map(function(e){return 0===e.completed?a.push(e):n.push(e)}),a.concat(n)}},{key:"render",value:function(){var e,t=this;return this.state.dataSource[0]&&(e=this.state.dataSource.map(function(e,a){return t.state.edit===e._id?s.a.createElement(E,{details:e,edit:t.state.edit,_edit:t._edit,key:a,view:t.state.view,_view:t._view}):s.a.createElement(_,{search:t.state.search,details:e,edit:t.state.edit,key:a,view:t.state.view,_view:t._view,complete:t._done})})),s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement(C,{_addTask:this._addTask})),s.a.createElement("div",{className:"tasks-list",ref:function(e){return t.tasks=e}},s.a.createElement(j,{text:this.state.search,_input:this._onChange}),this.state.context&&s.a.createElement("div",{className:"context-menu",ref:function(e){return t.context=e},style:{top:this.state.context.x,left:this.state.context.y}},s.a.createElement("p",{className:"context-menu-item",onClick:this._edit},"edit"),s.a.createElement(S,{color:"#ddd"}),s.a.createElement("p",{className:"context-menu-item delete",onClick:this._delete,style:{color:"#c41313"}},"delete")),e))}}]),t}(n.Component),j=function(e){return s.a.createElement("input",{type:"search",placeholder:"Search",name:"search",value:e.text,onChange:e._input,className:"task-search-field"})},S=function(e){return s.a.createElement("div",{style:{width:"1px",height:"100%",backgroundColor:e.color}})},N=a(27);a(42);g.a.plugin(N.a);var M=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"todos"},s.a.createElement(x,{tasksList:function(t){return e.tasks._viewList(t)}}),s.a.createElement(O,{ref:function(t){return e.tasks=t}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,2,1]]]);
//# sourceMappingURL=main.473f201c.chunk.js.map